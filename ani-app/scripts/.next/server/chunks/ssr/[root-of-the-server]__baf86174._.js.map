{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/DeAnd/Downloads/Animore%2B/ani-app/app/map/page.tsx"],"sourcesContent":["\"use client\"; // ðŸ‘ˆ Required if you're in Next.js App Router\r\n\r\nimport { useState, FormEvent, useEffect, useRef } from \"react\";\r\nimport Image from \"next/image\";\r\nimport { useRouter } from \"next/navigation\"; // Next.js router hook\r\nimport SearchBar from \"../../components/SearchBar\"\r\nimport \"../globals.css\";\r\nimport React, { use } from \"react\";\r\nimport * as d3 from 'd3';\r\n\r\ninterface Anime {\r\n    id: number;\r\n    title: string;\r\n    genres: string[];\r\n    synopsis: string;\r\n    image_url: string;\r\n    umap_x: number;\r\n    umap_y: number;\r\n}\r\n\r\ninterface TooltipData {\r\n    visible: boolean;\r\n    content: Anime | null;\r\n    x: number;\r\n    y:number;\r\n}\r\n\r\nconst sampleAnimes = [\r\n    { id: 1, title: 'Attack on Titan', genres: ['Action', 'Drama', 'Fantasy'], synopsis: 'In a world where humanity resides within enormous walls, giant humanoid Titans prey on them. The story follows Eren Yeager, who vows to exterminate the Titans after they bring about the destruction of his hometown.', image_url: 'https://placehold.co/300x450/7f1d1d/fee2e2?text=AoT', umap_x: -8.5, umap_y: 10.2 },\r\n    { id: 2, title: 'Steins;Gate', genres: ['Sci-Fi', 'Thriller', 'Drama'], synopsis: 'A group of friends who have customized their microwave into a device that can send text messages to the past.', image_url: 'https://placehold.co/300x450/064e3b/d1fae5?text=Steins;Gate', umap_x: 5.1, umap_y: -7.3 },\r\n    { id: 3, title: 'Your Name.', genres: ['Romance', 'Supernatural', 'Drama'], synopsis: 'Two teenagers share a profound, magical connection upon discovering they are swapping bodies. Things manage to become even more complicated when the boy and girl decide to meet in person.', image_url: 'https://placehold.co/300x450/1e3a8a/dbeafe?text=Your+Name', umap_x: 12.8, umap_y: 3.5 },\r\n    { id: 4, title: 'Death Note', genres: ['Thriller', 'Mystery', 'Supernatural'], synopsis: 'A high school student discovers a supernatural notebook that allows him to kill anyone by writing their name in it.', image_url: 'https://placehold.co/300x450/171717/e5e5e5?text=Death+Note', umap_x: 2.3, umap_y: -9.1 },\r\n    { id: 5, title: 'My Neighbor Totoro', genres: ['Fantasy', 'Slice of Life'], synopsis: 'Two young girls move to the countryside to be near their ailing mother and have adventures with the wondrous forest spirits who live nearby.', image_url: 'https://placehold.co/300x450/059669/a7f3d0?text=Totoro', umap_x: 15.2, umap_y: 8.9 },\r\n    { id: 6, title: 'K-On!', genres: ['Slice of Life', 'Comedy', 'Music'], synopsis: 'A group of high school girls form a light music club. Their days are filled with practice, performances, and heartwarming moments.', image_url: 'https://placehold.co/300x450/be185d/fce7f3?text=K-On!', umap_x: 18.5, umap_y: 12.1 },\r\n    { id: 7, title: 'Cowboy Bebop', genres: ['Action', 'Sci-Fi', 'Adventure'], synopsis: 'The futuristic misadventures and tragedies of an easygoing bounty hunter and his partners.', image_url: 'https://placehold.co/300x450/9a3412/fed7aa?text=Cowboy+Bebop', umap_x: -12.3, umap_y: -4.8 },\r\n    { id: 8, title: 'Fullmetal Alchemist: Brotherhood', genres: ['Action', 'Adventure', 'Fantasy'], synopsis: 'Two brothers search for the Philosopher\\'s Stone after an attempt to revive their deceased mother goes awry and leaves them with damaged bodies.', image_url: 'https://placehold.co/300x450/78350f/fef3c7?text=FMAB', umap_x: -10.1, umap_y: 8.5 },\r\n    { id: 9, title: 'Mushishi', genres: ['Fantasy', 'Mystery', 'Slice of Life'], synopsis: 'A \"Mushi Master\" named Ginko travels to investigate and help people troubled by supernatural creatures called Mushi.', image_url: 'https://placehold.co/300x450/365314/dcfce7?text=Mushishi', umap_x: 14.9, umap_y: 9.5 },\r\n    { id: 10, title: 'Psycho-Pass', genres: ['Sci-Fi', 'Thriller', 'Police'], synopsis: 'In a futuristic Japan, the Sibyl System can determine a person\\'s criminal potential. The story follows Akane Tsunemori, a new Inspector.', image_url: 'https://placehold.co/300x450/1e40af/dbeafe?text=Psycho-Pass', umap_x: 4.5, umap_y: -8.2 },\r\n]\r\n\r\n\r\nexport default function SignupPage() {\r\n    const router = useRouter();\r\n    const svgRef = useRef<SVGSVGElement | null>(null);\r\n    const [animeData, setAnimeData] = useState<Anime[]>([]);\r\n    const [tooltip, setTooltip] = useState<TooltipData>({ visible: false, content: null, x: 0, y: 0 });\r\n\r\n\r\n    \r\n\r\n    useEffect(() => {\r\n        setAnimeData(sampleAnimes);\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (!animeData || animeData.length === 0) return;\r\n\r\n        // what is svg? it is the d3 selection of the svg element\r\n        const svg = d3.select(svgRef.current);\r\n        svg.selectAll(\"*\").remove(); // Clear previous contents\r\n\r\n        const { width, height } = svg.node()!.getBoundingClientRect(); \r\n        const margin = { top: 20, right: 20, bottom: 20, left: 20 };\r\n\r\n        // Scales for positioning the points based on umap_x and umap_y\r\n        const xExtent = d3.extent(animeData, d => d.umap_x) as [number, number];\r\n        const yExtent = d3.extent(animeData, d => d.umap_y) as [number, number];\r\n\r\n        // main container for all points\r\n        const g = svg.append(\"g\").attr(\"transform\", `translate(${margin.left},${margin.top})`);\r\n\r\n        const xScale = d3.scaleLinear()\r\n            .domain([xExtent[0] - 1, xExtent[1] + 1])\r\n            .range([0, width - margin.left - margin.right]);\r\n        const yScale = d3.scaleLinear()\r\n            .domain([yExtent[0] - 1, yExtent[1] + 1])\r\n            .range([height - margin.top - margin.bottom, 0]); // Invert y-axis for correct orientation\r\n\r\n        g.selectAll(\"circle\")\r\n            .data(animeData)\r\n            .join(\"circle\")\r\n\r\n            // this is where the points are positioned\r\n            .attr(\"cx\", d => xScale(d.umap_x)) \r\n            .attr(\"cy\", d => yScale(d.umap_y))\r\n\r\n            // radius of each point\r\n            .attr(\"r\", 6)\r\n\r\n            // color of each point\r\n            .attr(\"fill\", \"black\")\r\n\r\n            // opacity of each point\r\n            .attr(\"opacity\", 0.7)\r\n\r\n            .style(\"cursor\", \"pointer\")\r\n            .on(\"mouseover\", (event, d) => {\r\n                d3.select(event.currentTarget).attr(\"fill\", \"orange\").attr(\"r\", 10);\r\n                setTooltip({ visible: true, content: d, x: event.pageX, y: event.pageY });\r\n            })\r\n            .on(\"mouseout\", (event, d) => {\r\n                d3.select(event.currentTarget).attr(\"fill\" , \"black\").attr(\"r\", 6);\r\n                setTooltip({\r\n                    visible: false,\r\n                    content: null,\r\n                    x:0,\r\n                    y:0\r\n                })\r\n            })\r\n        \r\n        const zoom = d3.zoom<SVGSVGElement, unknown>()\r\n            .scaleExtent([0.5, 20]) // Limit zoom scale\r\n            .on(\"zoom\", (event) => {\r\n                g.attr(\"transform\"), event.transform.toString();\r\n            \r\n            });\r\n\r\n            svg. call(zoom as any); // Type assertion for d3 zoom\r\n\r\n            \r\n\r\n    }, [animeData]); // re-run when animeData changes\r\n\r\n    \r\n\r\n\r\n\r\n    \r\n\r\n    return (\r\n        <div className=\"font-sans min-h-screen p-4 sm:p-8\">\r\n        <div className=\"flex justify-between gap-4 m-4 cursor-pointer\">\r\n            <h1 onClick={() => router.push(\"\")} className=\"m-4 mt-4 text-4xl font-bold flex\">\r\n                ANIMORE\r\n                <span className=\"animate-blink text-amber-300\">+</span>\r\n            </h1>\r\n            <div className=\"flex gap-4 ml-auto\">\r\n            <button\r\n                onClick={() => router.push(\"/signup\")}\r\n                className=\"flex-wrap-reverse outline-2 px-6 py-3 my-3 bg-black text-white hover:bg-white hover:text-black transition font-bold\"\r\n            >\r\n                SIGNUP\r\n            </button> \r\n            <button\r\n                onClick={() => router.push(\"/login\")}\r\n                className=\"flex-wrap-reverse outline-2 px-6 py-3 my-3 bg-black text-white hover:bg-white hover:text-black transition font-bold\"\r\n            >\r\n                LOGIN\r\n            </button>\r\n            </div>\r\n        </div>\r\n\r\n        {/* Main content area */}\r\n        <main>\r\n            <div className=\"w-full h-[calc(100vh-150px)] border rounded-lg shadow-lg bg-white overflowh-hidden\">\r\n                <svg ref={svgRef} className=\"w-full h-full\"></svg>\r\n            </div>\r\n\r\n            {/* Tooltip */}\r\n            {tooltip.visible && tooltip.content && (\r\n                <div\r\n                    className=\"absolute bg-white p-4 border rounded-lg shadow-lg max-w-xs\"\r\n                    style={{ top: tooltip.y + 10, left: tooltip.x + 10 }}\r\n                ></div>\r\n            )}\r\n        </main>\r\n    </div>\r\n    \r\n  );\r\n}"],"names":[],"mappings":"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","debugId":null}}]
}